<!doctype html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>中興課表（自填／QR 匯入）</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="style.css" />
    <meta name="theme-color" content="#0b1220" />

    <!-- jsQR：QR Code 解碼 -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
</head>
<body>
    <header class="toolbar">
        <h1>中興課表（自填 / QR 匯入）</h1>
        <div class="btns">
            <button id="btnScan" class="btn primary">掃描 QR</button>
            <button id="btnClear" class="btn danger">清空</button>
        </div>
    </header>

    <p class="hint">提示：第一次打開會是空白；掃描校園 QR 後會自動匯入；清空會刪除本機資料。</p>

    <!-- 課表 -->
    <div id="tableWrap" class="table-wrap">
        <!-- 時間欄 -->
        <div class="grid head time">時間</div>
        <div class="grid head">星期一</div>
        <div class="grid head">星期二</div>
        <div class="grid head">星期三</div>
        <div class="grid head">星期四</div>
        <div class="grid head">星期五</div>

        <!-- 這裡由 app.js 動態填入每節時間與空格 -->
    </div>

    <!-- 掃描器（全螢幕） -->
    <div id="scanner" class="scanner hidden">
        <div class="scanner-inner">
            <video id="video" playsinline autoplay muted></video>
            <div class="scan-ui">
                <input id="filePicker" type="file" accept="image/*" class="hidden" />
                <div class="row">
                    <button id="btnCapture" class="btn primary">拍照辨識</button>
                    <button id="btnUpload" class="btn">上傳含QR圖片</button>
                    <button id="btnCloseScan" class="btn danger">關閉</button>
                </div>
                <p id="camHint" class="cam-hint"></p>
            </div>
            <!-- 隱藏畫布：抓取 video frame 與圖片辨識 -->
            <canvas id="canvas" class="hidden"></canvas>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
